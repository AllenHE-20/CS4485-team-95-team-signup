<!DOCTYPE html>
<html lang="en">
<%- include("partials/doc-head.ejs", {title: "Profile Page"}); %>
<body>
<%- include('partials/header.ejs'); %>

<main class="profile-page">
    <div class = "card">
        <img src ="<%= avatar %>" id = "profile-pic">
        <h1><%= name %></h1>
        <div class="image-link">
            <label for="input-file"> Upload Image</label>
        </div>
        <div class = "upload-picture">
            <input type ="file" accept="image/jpeg, image/png, image/jpg" id = "input-file">
        </div>
        <div class="add-info">
            <h3>Contact Information</h3>
            <p>Email: <%= email %> | Phone: <%= phone %> | Discord: <%= discord %></p>
        </div>
    </div>
    
    <script>
        let profilePic = document.getElementById("profile-pic");
        let inputFile = document.getElementById("input-file");
    
        inputFile.onchange = function(){
            profilePic.src = URL.createObjectURL(inputFile.files[0]);
        }
    </script>

    <div class="setting-links">
        <a href="/resumeContact">Upload Resume & Contact Information</a>       
        <a href="/submitPreferences">Set Project Preferences</a>    
    </div>

    <section>
        <div class="user-info">              
            <% if (resume==null) {%>                
                <h4>&times; Resume not found!</h4>
            <% } else{ %>
                <a href="#" class="resume-link">
                    <img src="/images/resume.svg"
                    width="50" height="auto">
                </a>
                <p>Resume</p>
            <% } %>            
    
            <div class="projects">
                <h3>Project Preferences</h3>
                <ul>
                <% interests.forEach(project => { %>
                    <li><%= project %></li>
                <% }) %>
                </ul>
            </div>
        </div>
</main>

</body>
</html>
